const t="attributeChangedCallback",e="connectedCallback",o="disconnectedCallback";var n=(n,{MutationObserver:r,Element:s})=>{const a=new WeakSet,c=(t,n,r,s,l)=>{for(const i of t)(l||"querySelectorAll"in i)&&(s?n.has(i)||(n.add(i),r.delete(i),a.has(i)&&i[e]?.()):r.has(i)||(r.add(i),n.delete(i),a.has(i)&&i[o]?.()),l||c(i.querySelectorAll("*"),n,r,s,!0))},l=t=>{const e=new Set,o=new Set;for(const{addedNodes:n,removedNodes:r}of t)c(r,e,o,!1,!1),c(n,e,o,!0,!1)},i=r||globalThis.MutationObserver,u=new i(l),f=new i((e=>{for(const{target:o,attributeName:n,oldValue:r}of e)o[t](n,r,o.getAttribute(n))})),d=t=>{u.observe(t,{subtree:!0,childList:!0})};d(n);const b=s||globalThis.Element;if(b){const t=b.prototype.attachShadow;b.prototype.attachShadow=function(e){const o=t.call(this,e);return d(o),o}}return n=>{const{[t]:r,[e]:s,[o]:c}=n;if(r&&f.observe(n,{attributes:!0,attributeOldValue:!0,attributeFilter:n.constructor.observedAttributes.map((t=>{const e=n.getAttribute(t);return null!=e&&r.call(n,t,null,e),t}))}),s||c){const t=u.takeRecords();t.length&&l(t),a.add(n),n.isConnected&&s?.call(n)}return n}};let r={HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg"};const{entries:s,prototype:a,setPrototypeOf:c}=Object,{toString:l,valueOf:i}=a;var u=(t=r)=>{const e=(t,e,...n)=>{if("function"==typeof t&&t.tag){let r;const u={ref(n){if(!(n instanceof t)){const r=o;o=n,c(o,t.prototype),new t(e),o=r}if(r){if("function"==typeof r)return r.apply(this,arguments);r.current=n}}};if(e)for(const[t,o]of s(e))if("ref"===t)r=o;else{const e=typeof o;switch(e){case"symbol":break;case"function":if(!t.startsWith("on"))break;case"object":if("function"!==e&&o&&o.toString===l&&o.valueOf===i)break;default:u[t]=o}}return a(t.tag,u,...n)}return a(t,e,...n)};let o;const a=t.createElement,u=t.document||document,f=n(u,t);return new Proxy(new Map,{get(n,s){if("jsx"===s)return e;let a=n.get(s);if(!a){const e=new Map,c=u.createElementNS.bind(u,t[s]||r[s]),l=(t,n)=>{let r=e.get(n);r||e.set(n,r=c(n).constructor);class s extends r{static tag=n;constructor(){return f(o)}}return t.set(n,s),s};n.set(s,a=new Proxy(new Map,{get(t,e){const o=e.toLowerCase();return t.get(o)||l(t,o)}}))}return a}})};export{u as default};
