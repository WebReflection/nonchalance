const{setPrototypeOf:e}=Object;var t=t=>{function o(t){return e(t,new.target.prototype)}return o.prototype=t.prototype,o};const o=!0,r=!1,n="querySelectorAll",a="attributeChangedCallback",s="connectedCallback",c=new WeakSet,l=e=>{for(const{target:t,attributeName:o,oldValue:r}of e)t[a](o,r,t.getAttribute(o))},u=e=>{if(c.add(e),e[a]){new MutationObserver(l).observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:e.observedAttributes.map((t=>{const o=e.getAttribute(t);return null!=o&&e[a](t,null,o),t}))})}e[s]&&e.isConnected&&e[s]()},{observe:d}=((e,t=document,a=MutationObserver,s=["*"])=>{const c=(t,r,a,s,l,u)=>{for(const d of t)(u||n in d)&&(l?a.has(d)||(a.add(d),s.delete(d),e(d,l)):s.has(d)||(s.add(d),a.delete(d),e(d,l)),u||c(d[n](r),r,a,s,l,o))},l=new a((e=>{if(s.length){const t=s.join(","),n=new Set,a=new Set;for(const{addedNodes:s,removedNodes:l}of e)c(l,t,n,a,r,r),c(s,t,n,a,o,r)}})),{observe:u}=l;return(l.observe=e=>u.call(l,e,{subtree:o,childList:o}))(t),l})(((e,t)=>{c.has(e)&&e[t?s:"disconnectedCallback"]?.()})),i=Element.prototype.attachShadow;function b(e=globalThis){const{document:o}=e,r=new Map,n=(e,n)=>{let a=r.get(n);a||r.set(n,a=o.createElement(n).constructor);class s extends(t(a)){constructor(e){u(super(e||o.createElement(n)))}}return e.set(n,s),s};return new Proxy(new Map,{get(e,t){const o=t.toLowerCase();return e.get(o)||n(e,o)}})}Element.prototype.attachShadow=function(e){const t=i.call(this,e);return d(t),t};export{b as default};
