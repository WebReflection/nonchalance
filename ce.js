const{setPrototypeOf:t}=Object;var e=e=>{function o(e){return t(e,new.target.prototype)}return o.prototype=e.prototype,o};const o=!0,r=!1,n="querySelectorAll",a="attributeChangedCallback",s="connectedCallback",c="disconnectedCallback",l=new WeakSet,u=t=>{for(const{target:e,attributeName:o,oldValue:r}of t)e[a](o,r,e.getAttribute(o))},d=t=>{const{[a]:e,[s]:o,[c]:r}=t;e&&new MutationObserver(u).observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:t.constructor.observedAttributes.map((o=>{const r=t.getAttribute(o);return null!=r&&e.call(t,o,null,r),o}))}),(o||r)&&(l.add(t),t.isConnected&&o?.call(t))},{observe:i}=((t,e=document,a=MutationObserver,s=["*"])=>{const c=(e,r,a,s,l,u)=>{for(const d of e)(u||n in d)&&(l?a.has(d)||(a.add(d),s.delete(d),t(d,l)):s.has(d)||(s.add(d),a.delete(d),t(d,l)),u||c(d[n](r),r,a,s,l,o))},l=new a((t=>{if(s.length){const e=s.join(","),n=new Set,a=new Set;for(const{addedNodes:s,removedNodes:l}of t)c(l,e,n,a,r,r),c(s,e,n,a,o,r)}})),{observe:u}=l;return(l.observe=t=>u.call(l,t,{subtree:o,childList:o}))(e),l})(((t,e)=>{l.has(t)&&t[e?s:c]?.()})),b=Element.prototype.attachShadow;function p(t=globalThis){const{document:o}=t,r=new Map,n=(t,n)=>{let a=r.get(n);a||r.set(n,a=o.createElement(n).constructor);class s extends(e(a)){constructor(t){d(super(t||o.createElement(n)))}}return t.set(n,s),s};return new Proxy(new Map,{get(t,e){const o=e.toLowerCase();return t.get(o)||n(t,o)}})}Element.prototype.attachShadow=function(t){const e=b.call(this,t);return i(e),e};export{p as default};
