const{setPrototypeOf:t}=Object;const e="attributeChangedCallback",o="connectedCallback",r="disconnectedCallback";var n=(t,{MutationObserver:n,Element:a})=>{const s=new WeakSet,c=(t,e,n,a,l)=>{for(const u of t)(l||"querySelectorAll"in u)&&(a?e.has(u)||(e.add(u),n.delete(u),s.has(u)&&u[o]?.()):n.has(u)||(n.add(u),e.delete(u),s.has(u)&&u[r]?.()),l||c(u.querySelectorAll("*"),e,n,a,!0))},l=t=>{const e=new Set,o=new Set;for(const{addedNodes:r,removedNodes:n}of t)c(n,e,o,!1,!1),c(r,e,o,!0,!1)},u=n||globalThis.MutationObserver,d=new u(l),i=new u((t=>{for(const{target:o,attributeName:r,oldValue:n}of t)o[e](r,n,o.getAttribute(r))})),w=t=>{d.observe(t,{subtree:!0,childList:!0})};w(t);const b=a||globalThis.Element;if(b){const t=b.prototype.attachShadow;b.prototype.attachShadow=function(e){const o=t.call(this,e);return w(o),o}}return t=>{const{[e]:n,[o]:a,[r]:c}=t;if(n&&i.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:t.constructor.observedAttributes.map((e=>{const o=t.getAttribute(e);return null!=o&&n.call(t,e,null,o),e}))}),a||c){const e=d.takeRecords();e.length&&l(e),s.add(t),t.isConnected&&a?.call(t)}}};let a={HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg"};var s=(e=a)=>{const o=e.document||document,r=n(o,e);return new Proxy(new Map,{get(n,s){let c=n.get(s);if(!c){const l=new Map,u=o.createElementNS.bind(o,e[s]||a[s]),d=(e,o)=>{let n=l.get(o);n||l.set(o,n=u(o).constructor);class a extends((e=>{function o(e){return t(e,new.target.prototype)}return o.prototype=e.prototype,o})(n)){static tag=o;constructor(t){r(super(t||u(o)))}}return e.set(o,a),a};n.set(s,c=new Proxy(new Map,{get(t,e){const o=e.toLowerCase();return t.get(o)||d(t,o)}}))}return c}})};export{s as default};
